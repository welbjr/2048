(this["webpackJsonp2048-clone"]=this["webpackJsonp2048-clone"]||[]).push([[0],{31:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(13),a=n.n(c),o=n(5),i=n(15),s=n(3),l=function(t){var e=function(){return Math.floor(Math.random()*n[0].length)},n=Object(s.a)(t),r=e(),c=e();if(function(t){return t.flat().includes(0)}(n)){for(;0!==n[r][c];)r=e(),c=e();return n[r][c]=0===Math.round(1*Math.random())?4:2,n}},u=function(t){for(var e=d(t.length),n=0,r=Object.entries(t);n<r.length;n++)for(var c=Object(o.a)(r[n],2),a=c[0],i=c[1],s=0,l=Object.entries(i);s<l.length;s++){var u=Object(o.a)(l[s],2),j=u[0],b=u[1];e[j][a]=b}return e},d=function(t){for(var e=[],n=1;n<=t;n++)e.push(new Array(t).fill(0));return e=l(e)},j=function(t,e){var n=function(t){return 0!==t},r=function(t,e,n){return t===n[e+1]&&(t*=2,n[e+1]=0),t},c=Object(s.a)(t);return"up"!==e&&"down"!==e||(c=u(c)),c.forEach((function(t,a){if(0!==t.reduce((function(t,e){return t+e}))){var o;o="left"===e?t.filter(n).map(r).filter(n):t.filter(n).reverse().map(r).reverse().filter(n);var i=Array(t.length-o.length).fill(0);c[a]="right"===e||"down"===e?[].concat(Object(s.a)(i),Object(s.a)(o)):[].concat(Object(s.a)(o),Object(s.a)(i))}})),"up"!==e&&"down"!==e||(c=u(c)),JSON.stringify(c)!==JSON.stringify(t)?l(c):c},b=function(){var t=Object(r.useState)({status:"playing",direction:"",size:4,score:1}),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(d(n.size)),l=Object(o.a)(a,2),u=l[0],b=l[1];Object(r.useEffect)((function(){return window.addEventListener("keydown",h),function(){window.removeEventListener("keydown",h)}}));var h=function(t){var e=t.key,r=Object(s.a)(u),a=Object(i.a)({},n);"ArrowUp"===e&&(r=j(r,"up"),a.direction="up"),"ArrowDown"===e&&(r=j(r,"down"),a.direction="down"),"ArrowLeft"===e&&(r=j(r,"left"),a.direction="left"),"ArrowRight"===e&&(r=j(r,"right"),a.direction="right");var o=r.flat().reduce((function(t,e){return t+e}));if(a.score=o,function(t){if(function(t){return t.flat().includes(0)}(t))return!1;for(var e=Object(s.a)(t),n=[],r=0,c=["up","down","left","right"];r<c.length;r++){var a=c[r];n.push(JSON.stringify(j(e,a)))}return n.every((function(t){return t===n[0]}))}(r)){a.status="lost";var l="".concat(String((new Date).getDay()).padStart(2,"0"),"/").concat((new Date).getUTCDate(),", ").concat((new Date).getHours(),":").concat(String((new Date).getMinutes()).padStart(2,"0"));localStorage.setItem(l,o)}c(a),b(r)};return{board:u,setBoard:b,boardStatus:n,setBoardStatus:c}},h=n(34),f=n(14),O=n.n(f),g=n(1),v={type:"playing",0:"#1f1f1f"},m={playing:[.5,.9],lost:[.1,.6]},p=function(t){var e=t.number,n=t.status;return"lost"===n&&"lost"!==v.type&&(v={type:"lost"}),v[e]||(v[e]=O.a.apply(void 0,Object(s.a)(m[n])).hexString()),Object(g.jsx)("div",{className:"Number",style:{backgroundColor:v[e]},children:e})},w=function(t){var e=t.board,n=t.boardStatus,r={spawn:{scale:[1,1.05,1],transition:{duration:.2}}};return Object(g.jsx)(g.Fragment,{children:function(t){return Object(g.jsx)("div",{className:"Board",children:t.map((function(t,e){return Object(g.jsx)("div",{className:"Row",children:t.map((function(t,c){return Object(g.jsx)(h.a.div,{variants:r,animate:t>0?"spawn":"",children:Object(g.jsx)(p,{number:t,status:n.status})},"".concat(e,",").concat(c))}))},e)}))})}(e)})},x=n(6),S=function(t){var e=t.theme,n=t.setTheme,r="__Light"===e?"__Dark":"__Light";return Object(g.jsx)(h.a.button,{className:"ToggleTheme",onClick:function(){n(r)},whileHover:{scale:1.1},whileTap:{scale:.9},children:"__Light"===e?Object(g.jsx)(x.d,{className:"ToggleTheme__Icon".concat(e)}):Object(g.jsx)(x.a,{className:"ToggleTheme__Icon".concat(e)})})},y={show:{opacity:1},hidden:{opacity:0},pulse:{scale:.9,transition:{duration:.2}},hover:{scale:1.05}},_=function(t){var e=t.theme,n=Object(r.useState)(!1),c=Object(o.a)(n,2),a=c[0],i=c[1];return Object(g.jsxs)("div",{className:"Table",children:[Object(g.jsxs)(h.a.h3,{className:"Table__Score".concat(e),onClick:function(){i(!a)},variants:y,whileTap:"pulse",whileHover:"hover",children:[a?Object(g.jsx)(x.c,{}):Object(g.jsx)(x.b,{}),"Scores"]}),Object(g.jsxs)(h.a.table,{variants:y,initial:"hidden",animate:a?"show":"hidden",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{className:"Row__Dark",children:[Object(g.jsx)("th",{children:"Date"}),Object(g.jsx)("th",{children:"Score"})]})}),Object(g.jsx)("tbody",{children:Object.keys(localStorage).map((function(t,e){return Object(g.jsxs)("tr",{className:e%2===0?"Row__Light":"Row__Dark",children:[Object(g.jsx)("td",{children:t},"Date, ".concat(t,":").concat(localStorage[t])),Object(g.jsx)("td",{children:localStorage[t]},"Score, ".concat(t,":").concat(localStorage[t]))]},"".concat(t,":").concat(localStorage[t]))}))})]})]})},N=(n(31),function(){var t=b(),e=t.board,n=t.boardStatus,c=Object(r.useState)("__Light"),a=Object(o.a)(c,2),i=a[0],s=a[1];return Object(g.jsxs)("div",{className:"App".concat(i),children:[Object(g.jsxs)("div",{className:"Header",children:[Object(g.jsxs)("div",{className:"Score".concat(i),children:["Score: ",n.score]}),Object(g.jsx)(S,{theme:i,setTheme:s})]}),Object(g.jsx)(w,{board:e,boardStatus:n}),Object(g.jsx)(_,{theme:i})]})});a.a.render(Object(g.jsx)(N,{}),document.querySelector("#root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6cf4a37a.chunk.js.map